<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>بث كورة مباشر</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    :root {
      --bg1:#0f0c29; --bg2:#302b63; --text:#fff;
      --glass: rgba(255,255,255,0.08); --accent:#ff6b6b;
      --radius:14px; --transition:.35s cubic-bezier(.4,.2,.2,1);
      --shadow:0 30px 80px -20px rgba(0,0,0,0.5);
    }
    [data-theme="light"] {
      --bg1:#1f4f8b; --bg2:#0f2d52; --text:#f0f5fa;
      --glass: rgba(255,255,255,0.12);
    }
    * { box-sizing:border-box; }
    body {
      margin:0; padding:10px 15px 100px;
      font-family:"Segoe UI",sans-serif;
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      color:var(--text); min-height:100vh;
      -webkit-font-smoothing:antialiased;
      transition:background var(--transition);
    }
    audio { display:none; }
    .topbar {
      max-width:1200px; margin:12px auto 8px;
      display:flex; flex-wrap:wrap;
      align-items:center; justify-content:space-between;
      gap:10px;
    }
    .logo {
      display:flex; align-items:center; gap:8px;
      font-size:1.4rem; font-weight:700;
      padding:12px 20px; background:var(--glass);
      border-radius:50px; backdrop-filter:blur(14px);
      box-shadow:var(--shadow);
    }
    .logo i { color:var(--accent); margin-left:6px; }
    .search-wrapper {
      position:relative; flex:1; min-width:220px; max-width:600px;
    }
    .search-wrapper input {
      width:100%; padding:14px 50px 14px 18px;
      border:none; border-radius:50px;
      background:rgba(255,255,255,0.07); color:var(--text);
      font-size:15px; outline:none; backdrop-filter:blur(10px);
      transition:var(--transition);
      box-shadow:0 18px 60px -10px rgba(0,0,0,0.4);
    }
    .search-wrapper i {
      position:absolute; right:16px; top:50%;
      transform:translateY(-50%);
      font-size:18px; color:rgba(255,255,255,0.65);
    }
    .actions {
      display:flex; gap:12px; align-items:center; flex-wrap:wrap;
    }
    .btn {
      cursor:pointer; border:none; padding:10px 16px;
      border-radius:50px; font-size:14px; font-weight:600;
      background:rgba(255,255,255,0.08); color:var(--text);
      display:inline-flex; align-items:center; gap:6px;
      backdrop-filter:blur(12px); transition:var(--transition);
      box-shadow:0 18px 50px -5px rgba(255,107,107,0.4);
    }
    .btn:hover {
      transform:translateY(-1px);
      box-shadow:0 25px 70px -5px rgba(255,107,107,0.5);
    }
    .categories {
      max-width:1200px; margin:25px auto 40px;
      display:grid; gap:24px;
    }
    .category {
      background:var(--glass); border:1px solid rgba(255,255,255,0.15);
      border-radius:16px; padding:20px 18px 16px;
      backdrop-filter:blur(16px); box-shadow:var(--shadow);
      display:flex; flex-direction:column; gap:14px;
      position:relative; overflow:hidden;
    }
    .category h2 {
      margin:0; font-size:1.25rem;
      display:flex; align-items:center; gap:8px;
    }
    .category h2 i { color:var(--accent); }
    .channels {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
      gap:18px;
    }
    .channel {
      background:rgba(255,255,255,0.04); border-radius:12px;
      padding:12px 10px 14px; position:relative;
      cursor:pointer; display:flex; flex-direction:column;
      align-items:center; gap:8px;
      transition:var(--transition);
      border:1px solid rgba(255,255,255,0.1);
      backdrop-filter:blur(6px);
    }
    .channel img {
      width:70px; height:70px; object-fit:contain;
      border-radius:10px; background:rgba(255,255,255,0.05);
      padding:6px; flex-shrink:0;
    }
    .channel-name {
      font-size:13px; font-weight:600;
      text-align:center; line-height:1.1;
      white-space:nowrap; overflow:hidden;
      text-overflow:ellipsis; width:100%;
    }
    .channel .badge {
      position:absolute; top:8px; left:8px;
      background:var(--accent); padding:4px 10px;
      font-size:9px; border-radius:999px;
      text-transform:uppercase; font-weight:700;
      letter-spacing:0.5px;
    }
    .channel:hover {
      transform:translateY(-3px);
      box-shadow:0 35px 85px -15px rgba(255,107,107,0.4);
    }
    .no-results {
      text-align:center; padding:50px 10px;
      font-size:16px; opacity:.9;
    }
    #playerModal {
      position:fixed; inset:0; display:none;
      justify-content:center; align-items:center;
      padding:20px; z-index:9999;
      backdrop-filter:blur(12px);
      background:rgba(0,0,0,0.85);
      flex-direction:column; gap:14px;
    }
    .modal-container {
      width:100%; max-width:960px;
      display:flex; flex-direction:column; gap:14px;
    }
    .modal-header {
      display:flex; justify-content:space-between;
      align-items:center; gap:8px; flex-wrap:wrap;
    }
    .now-playing {
      display:flex; align-items:center; gap:8px;
      font-weight:700; font-size:16px;
    }
    .video-wrapper {
      position:relative; width:100%; aspect-ratio:16/9;
      background:#000; border-radius:12px;
      overflow:hidden;
      box-shadow:0 40px 100px -20px rgba(255,107,107,0.35);
      display:flex; align-items:center; justify-content:center;
    }
    video {
      width:100%; height:100%; object-fit:contain;
      border-radius:6px;
    }
    .controls-group {
      display:flex; gap:10px; flex-wrap:wrap;
    }
    .action-btn {
      border:none; padding:9px 16px;
      border-radius:50px; font-weight:600;
      cursor:pointer;
      background:linear-gradient(135deg,var(--accent),#ff8e8e);
      color:#fff; display:inline-flex;
      align-items:center; gap:6px; font-size:13px;
      transition:.25s ease;
    }
    .action-btn:active { transform:translateY(1px); }
    .loader {
      position:absolute; inset:0;
      display:flex; flex-direction:column;
      justify-content:center; align-items:center;
      background:rgba(0,0,0,0.35);
      backdrop-filter:blur(4px);
      color:#fff; font-size:14px; gap:8px;
    }
    .footer {
      text-align:center; padding:16px 8px;
      margin-top:60px; font-size:12px; opacity:.7;
      max-width:1000px; margin:0 auto;
    }
    .footer .social-links {
      margin:8px 0; display:flex;
      justify-content:center; gap:12px;
    }
    .footer .social-links a {
      font-size:20px; color:var(--text);
      transition:transform .2s;
    }
    .footer .social-links a:hover {
      transform:scale(1.2);
    }
    @media (max-width:1024px){
      .channel img { width:60px; height:60px; }
    }
    @media (max-width:768px){
      .categories { gap:18px; }
      .topbar { flex-direction:column; align-items:stretch; }
      .logo { margin-bottom:6px; }
    }
    @media (max-width:480px){
      .channel img { width:50px; height:50px; }
    }
  </style>
</head>
<body data-theme="dark">

  <audio id="clickSound" src="https://assets.codepen.io/3/coin.mp3" preload="auto"></audio>
  <audio id="closeSound" src="https://assets.codepen.io/3/button-3.mp3" preload="auto"></audio>

  <div class="topbar">
    <div class="logo"><i class="fas fa-futbol"></i> بث كورة مباشر</div>
    <div class="search-wrapper">
      <input id="searchInput" placeholder="ابحث عن قناة أو فئة..." />
      <i class="fas fa-search"></i>
    </div>
    <div class="actions">
      <button class="btn" id="themeToggle"><i class="fas fa-moon"></i> تبديل الوضع</button>
    </div>
  </div>

  <div id="content" class="categories"></div>

  <div id="playerModal">
    <div class="modal-container">
      <div class="modal-header">
        <div class="now-playing"><i class="fas fa-tv"></i> <div id="nowPlayingText">جارٍ التحميل...</div></div>
        <div class="controls-group">
          <button class="action-btn" id="fullscreenBtn"><i class="fas fa-expand"></i> ملء الشاشة</button>
          <button class="action-btn" id="closeBtn"><i class="fas fa-times"></i> إغلاق</button>
        </div>
      </div>
      <div class="video-wrapper">
        <div class="loader" id="videoLoader">
          <div><i class="fas fa-spinner fa-spin" style="font-size:28px;"></i></div>
          <div>جارٍ الاتصال بالبث...</div>
        </div>
        <video id="videoPlayer" playsinline controls></video>
      </div>
    </div>
  </div>

  <div class="footer">
    © <span id="year"></span> بث كورة مباشر — جميع الحقوق محفوظة
    <div class="social-links">
      <a href="https://twitter.com/yourTwitter" target="_blank" aria-label="Twitter"><i class="fab fa-x-twitter"></i></a>
      <a href="https://www.instagram.com/me_do6231?igsh=ZWplMGZsN2ZsbTg4&utm_source=qr" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      <a href="https://t.me/ei_5m" target="_blank" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
      <a href="https://t.snapchat.com/uhojCMoz" target="_blank" aria-label="Snapchat"><i class="fab fa-snapchat-ghost"></i></a>
    </div>
  </div>

  <script>
    // ثيم
    const themeToggle = document.getElementById("themeToggle");
    const storedTheme = localStorage.getItem("theme") || "dark";
    if (storedTheme === "light") document.documentElement.setAttribute("data-theme","light");
    updateTheme();
    function updateTheme(){
      const isLight = document.documentElement.getAttribute("data-theme")==="light";
      themeToggle.innerHTML = `<i class="fas ${isLight? "fa-sun":"fa-moon"}"></i> تبديل الوضع`;
    }
    themeToggle.addEventListener("click", ()=>{
      const curr = document.documentElement.getAttribute("data-theme")==="light" ? "dark":"light";
      document.documentElement.setAttribute("data-theme", curr);
      localStorage.setItem("theme", curr);
      updateTheme();
    });
    document.getElementById("year").textContent = new Date().getFullYear();

    const clickSound = document.getElementById("clickSound");
    const closeSound = document.getElementById("closeSound");

    const channels = [
      { "name": "beIN SPORTS HD1",      "url":"https://stream.sainaertebat.com/hls2/bein1.m3u8","logo":"https://jzu4.github.io/files/img/IMG_6703.png","category":"BeIN Sports" },
      { "name": "beIN SPORTS HD2",      "url":"https://cdn1-europe.mgmlcdn.s-cloudflare.com:25463/xH5gc4mOg8vw4txxz36/38_.m3u8?","logo":"https://jzu4.github.io/files/img/IMG_6703.png","category":"BeIN Sports" },
      { "name": "beIN SPORTS HD3",      "url":"https://cdn1-europe.mgmlcdn.s-cloudflare.com:25463/xH5gc4mOg8vw4txxz36/250_.m3u8?","logo":"https://jzu4.github.io/files/img/IMG_6703.png","category":"BeIN Sports" },
      { "name": "beIN SPORTS HD4",      "url":"https://cdn1-europe.mgmlcdn.s-cloudflare.com:25463/xH5gc4mOg8vw4txxz36/251_.m3u8?","logo":"https://jzu4.github.io/files/img/IMG_6703.png","category":"BeIN Sports" },
      { "name": "beIN SPORTS HD5",      "url":"https://cdn1-europe.mgmlcdn.s-cloudflare.com:25463/xH5gc4mOg8vw4txxz36/251_.m3u8?","logo":"https://jzu4.github.io/files/img/IMG_6703.png","category":"BeIN Sports" },
      { "name": "SSC 1",                "url":"https://stream.sainaertebat.com/hls2/ssc1.m3u8","logo":"https://jzu4.github.io/files/img/504D5767-2196-4154-8F97-58961653DCB7.png","category":"SSC"},
      { "name": "SSC 2",                "url":"https://cdn1-europe.mgmlcdn.s-cloudflare.com:25463/xH5gc4mOg8vw4txxz36/163_.m3u8?","logo":"https://jzu4.github.io/files/img/504D5767-2196-4154-8F97-58961653DCB7.png","category":"SSC"},
      { "name": "SSC 3",                "url":"https://cdn1-europe.mgmlcdn.s-cloudflare.com:25463/xH5gc4mOg8vw4txxz36/147_.m3u8?","logo":"https://jzu4.github.io/files/img/504D5767-2196-4154-8F97-58961653DCB7.png","category":"SSC"},
      { "name": "SSC 4",                "url":"https://cdn1-europe.mgmlcdn.s-cloudflare.com:25463/xH5gc4mOg8vw4txxz36/178_.m3u8?","logo":"https://jzu4.github.io/files/img/504D5767-2196-4154-8F97-58961653DCB7.png","category":"SSC"},
      { "name": "SSC 5",                "url":"https://cdn1-europe.mgmlcdn.s-cloudflare.com:25463/xH5gc4mOg8vw4txxz36/179_.m3u8","logo":"https://jzu4.github.io/files/img/504D5767-2196-4154-8F97-58961653DCB7.png","category":"SSC"},
      { "name": "SSC Extra1",           "url":"https://cdn1-europe.mgmlcdn.s-cloudflare.com:25463/xH5gc4mOg8vw4txxz36/193_.m3u8?","logo":"https://jzu4.github.io/files/img/504D5767-2196-4154-8F97-58961653DCB7.png","category":"SSC"},
      { "name": "SSC Extra2",           "url":"https://cdn1-europe.mگmlcdn.s-cloudflare.com:25463/xH5gc4mOg8vw4txxz36/226_.m3u8?","logo":"https://jzu4.github.io/files/img/504D5767-2196-4154-8F97-58961653DCB7.png","category":"SSC"},
      { "name": "ON Sports",            "url":"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8","logo":"3.png","category":"ON Sports"},
      { "name": "السعودية",             "url":"https://cdn-globecast.akamaized.net/live/eds/saudi_tv/hls_roku/index.m3u8","logo":"https://i.imgur.com/GRQTndk.png","category":"Saudi Arabia"},
      { "name": "السعودية الثانية",     "url":"https://shd-gcp-live.edgenextcdn.net/live/bitmovin-ksa-now/71ed3aa814c643306c0a8bc4fcc7d17f/index.m3u8","logo":"https://i.imgur.com/sEOjApe.png","category":"Saudi Arabia"},
      { "name": "SBC",                  "url":"https://shd-gcp-live.edgenextcdn.net/live/bitmovin-sbc/90e09c28db26435799b4a14892a167/index.m3u8","logo":"https://i.imgur.com/9JSQglj.png","category":"Saudi Arabia"},
      { "name": "ذكريات",               "url":"https://al-ekhbaria-prod-dub.shahid.net/out/v1/ef87956651694f4ba2ccc16e852dbb95/index.m3u8","logo":"https://i.imgur.com/AKa1X9d.png","category":"Saudi Arabia"},
      { "name": "الأخبارية",             "url":"https://cdn-globecast.akamaized.net/live/eds/al_ekhbariya/hls_roku/index.m3u8","logo":"https://i.imgur.com/WcRlHQm.png","category":"Saudi Arabia"},
      { "name": "القرآن الكريم",          "url":"http://m.live.net.sa:1935/live/quran/gmswf.m3u8","logo":"https://i.imgur.com/A2fJysM.png","category":"Saudi Arabia"},
      { "name": "السنة النبوية",         "url":"http://m.live.net.sa:1935/live/sunnah/playlist.m3u8","logo":"https://i.imgur.com/S6LcTJv.png","category":"Saudi Arabia"},
      { "name": "اقرأ",                 "url":"https://playlist.fasttvcdn.com/pl/dlkqw1ftuvuuzkcb4pxdcg/Iqraafasttv3/playlist.m3u8","logo":"https://i.imgur.com/HPVsIa4.png","category":"Saudi Arabia"},
      { "name": "الثقافية",             "url":"https://thaqafeyyah-ak.akamaized.net/out/v1/f6851f68ada94f82ae6b64a441eb5ab1/index.m3u8","logo":"https://i.imgur.com/juM3k8B.jpg","category":"Saudi Arabia"},
      { "name": "الحدث",                "url":"https://av.alarabiya.net/alarabiapublish/alhadath.smil/playlist.m3u8","logo":"https://i.imgur.com/De4SEWE.png","category":"Saudi Arabia"},
      { "name": "خليجي",                "url":"https://shls-live-enc.edgenextcdn.net/out/v1/0afd546fcb5342f69d6bfff2dd1596e9/index_20.m3u8","logo":"https://jzu4.github.io/files/img/A06BD3B9-B28A-48B6-8691-44A8E6FA41CD.png","category":"Shahid"},
      { "name": "باب الحارة",            "url":"https://shls-live-enc.edgenextcdn.net/out/v1/948c54279b594944adde578c95f1d7d1/index.m3u8","logo":"https://i.imgur.com/QtlnZbq.png","category":"Shahid"},
      { "name": "MBC 1",                "url":"https://mbc1na-prod-dub-enc.edgenextcdn.net/out/v1/84ab37e99d6e4b16b33c6600f94f6ccb/index_6.m3u8","logo":"https://jzu4.github.io/files/img/C6630DD3-4242-B800-38FB40DE2BA2.png","category":"MBC"}
    ];

    const grouped = {};
    channels.forEach(c=>{
      if(!grouped[c.category]) grouped[c.category]=[];
      grouped[c.category].push(c);
    });

    const content = document.getElementById("content");
    const searchInput = document.getElementById("searchInput");
    const playerModal = document.getElementById("playerModal");
    const video = document.getElementById("videoPlayer");
    const nowPlaying = document.getElementById("nowPlayingText");
    const videoLoader = document.getElementById("videoLoader");
    const closeBtn = document.getElementById("closeBtn");
    const fullscreenBtn = document.getElementById("fullscreenBtn");
    let hls = null;

    function renderChannels(){
      content.innerHTML = "";
      for(const cat in grouped){
        const sec = document.createElement("div");
        sec.className="category";
        sec.dataset.category=cat;
        const h2 = document.createElement("h2");
        h2.innerHTML = `<i class="fas fa-${getIcon(cat)}"></i> ${cat} <span style="margin-left:6px;font-size:13px;color:rgba(255,255,255,0.7);">(${grouped[cat].length})</span>`;
        sec.appendChild(h2);
        const wrap = document.createElement("div");
        wrap.className="channels";
        grouped[cat].forEach(ch=>{
          const card = document.createElement("div");
          card.className="channel";
          card.dataset.name=ch.name.toLowerCase();
          card.dataset.category=ch.category;
          card.innerHTML=`
            <div class="badge">${ch.category}</div>
            <img loading="lazy" src="${ch.logo}" alt="${ch.name}" onerror="this.src='https://via.placeholder.com/80x80?text=Logo'"/>
            <div class="channel-name">${ch.name}</div>
          `;
          card.onclick=()=>{
            clickSound.currentTime=0; clickSound.play().catch(()=>{});
            playChannel(ch);
          };
          wrap.appendChild(card);
        });
        sec.appendChild(wrap);
        content.appendChild(sec);
      }
      applySearch();
    }

    function getIcon(cat){
      const m={"BeIN Sports":"football-ball","SSC":"tv","ON Sports":"tv","Saudi Arabia":"flag","Shahid":"play-circle","MBC":"play-circle"};
      return m[cat]||"globe";
    }

    searchInput.addEventListener("input",applySearch);
    function applySearch(){
      const term=searchInput.value.trim().toLowerCase();
      let any=false;
      document.querySelectorAll(".channel").forEach(ch=>{
        const name=ch.dataset.name, cat=ch.dataset.category.toLowerCase();
        if(name.includes(term)||cat.includes(term)){ ch.style.display=""; any=true; }
        else ch.style.display="none";
      });
      if(!any){
        if(!document.querySelector(".no-results")){
          const msg=document.createElement("div");
          msg.className="no-results";
          msg.textContent="ما في قنوات تطابق البحث.";
          content.appendChild(msg);
        }
      } else {
        document.querySelectorAll(".no-results").forEach(n=>n.remove());
      }
    }

    function playChannel(ch){
      nowPlaying.textContent=ch.name;
      videoLoader.style.display="flex";
      if(hls){ hls.destroy(); hls=null; }
      video.pause(); video.src="";
      playerModal.style.display="flex";
      setTimeout(()=>{
        if(Hls.isSupported()){
          hls=new Hls();
          hls.loadSource(ch.url);
          hls.attachMedia(video);
          hls.on(Hls.Events.MANIFEST_PARSED,()=>{
            video.play().catch(()=>{});
            videoLoader.style.display="none";
          });
          hls.on(Hls.Events.ERROR,()=>{
            videoLoader.innerHTML="<div>فشل تحميل البث. حاول مرة ثانية.</div>";
          });
        } else if(video.canPlayType("application/vnd.apple.mpegurl")){
          video.src=ch.url;
          video.addEventListener("loadedmetadata",()=>{
            video.play().catch(()=>{});
            videoLoader.style.display="none";
          },{once:true});
        } else {
          videoLoader.innerHTML="<div>المتصفح لا يدعم البث.</div>";
        }
      },200);
    }

    closeBtn.addEventListener("click",()=>{
      if(hls){ hls.destroy(); hls=null; }
      video.pause();
      playerModal.style.display="none";
      closeSound.currentTime=0; closeSound.play().catch(()=>{});
    });
    playerModal.addEventListener("click",e=>{
      if(e.target===playerModal){
        if(hls){ hls.destroy(); hls=null; }
        video.pause();
        playerModal.style.display="none";
      }
    });
    fullscreenBtn.addEventListener("click",()=>{
      if(video.requestFullscreen) video.requestFullscreen();
      else if(video.webkitEnterFullscreen) video.webkitEnterFullscreen();
    });

    renderChannels();
  </script>
</body>
</html>